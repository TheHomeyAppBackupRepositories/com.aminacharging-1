"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const zigbee_clusters_1 = require("zigbee-clusters");
const attributeDevice_1 = require("../lib/attributeDevice");
async function initLockedDevice(device, zclNode, { capabilityId = 'locked', 
// Can be extended to handle the 'not_fully_locked' state
reportParser = (value) => value == 'locked', endpointId, } = {}) {
    const command = (value) => value ? 'lockDoor' : 'unlockDoor';
    // Return empty object, the command specifies the action for this cluster ('lockDoor'/unlockDoor')
    const commandArgParser = () => ({});
    await (0, attributeDevice_1.initReadCommandCapability)(device, zclNode, capabilityId, zigbee_clusters_1.CLUSTER.DOOR_LOCK, command, commandArgParser, 'lockState', reportParser, undefined, endpointId);
}
exports.default = initLockedDevice;
